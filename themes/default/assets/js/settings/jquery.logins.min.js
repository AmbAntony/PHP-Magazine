(function(){
	var d = $('#navigation-after'),
        g = $('#navigation-before'),
        h = $('#navigation-first'),
        j = $('#navigation-last'),
        n = $('#spinner-load'),
        b = $('#alert-delete'),
        w = $('#btn-logout'),
        f = $('.text-error'),
        x = function(){
            b.addClass('hidden'), w.removeAttr('data-id');
        },
        y = function(e){
            u(e.removeClass('spinner-is-loading'), !1)
        },
        u = function(e, i){
            e.attr('disabled', i)
        },
        z = paper_sl.total_pages,
        t = !0,
        s = 1;
    $(document).on('click', '.btn_dalert', function(){
        b.removeClass('hidden'), w.attr('data-id', $(this).blur().parents('.content-row-table').attr('data-id'))
    }), w.click(function(e){
        var r = $(this),
            v = r.attr('data-id');
        v && (u(r.addClass('spinner-is-loading'), !0), f.text(''), $.post(paper_sl.url.delete_session+"?token="+paper_sl.token, {'session_id': v}, function(e){
            e.S == 200 ? (e.RL == 1 && (window.location = paper_sl.url.r_home), $('.content-row-table[data-id='+v+']').remove(), y(r), x()) : (f.text(e.E), y(r), x());
        }))
    }), $('#btn-cancel').click(x), $('.load_table_page').click(function(){
        var q = $(this),
        	v = q.attr('data-type');
        if(v == 'after') {
            if(z > s) {
                s++, u(h, !1), u(g, !1)
            }
        } else if(v == 'before'){
            if(s > 1){
                s--, u(j, !1), u(d, !1)
            }
        } else if(v == 'last')   {
            s = z, u(j, !0), u(h, !1), u(g, !1)
        } else if(v == 'first') {
            s = 1, u(h, !0), u(d, !1), u(j, !1)
        }
        if(s == 1){
            u(h, !0), u(g, !0)
        } else if(s == z) {
            u(j, !0), u(d, !0)
        }
        n.removeClass('hidden'), t && (t = !1, $.post(paper_sl.url.table_sessions+"?token="+paper_sl.token, {'page_id': s}, function(e){
            e.S == 200 ? ($('#container-pages').html(e.HT), n.addClass('hidden'), $('#page-now').text(s), t = !0) : (u(q, !0), n.addClass('hidden'))
        }))
    });
})();